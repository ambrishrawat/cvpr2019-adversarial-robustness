\documentclass{standalone}
\usepackage{pgfplots}
\usepackage{tikz}
\input{commands}
\input{style}
\renewcommand{\rmdefault}{phv}
\renewcommand{\sfdefault}{phv}
\renewcommand{\ttdefault}{pcr}
\begin{document}
    \begin{tikzpicture}
    \begin{axis}[
        Line,
        ylabel={Test Error},
        xlabel={Training Images $N$},
        title=\MNIST,
        xmin=0,ymin=0,
        ymax=0.035,
        xmax=40000,
        xtick={10000,30000},
        minor tick num=3,
    ]
    \addplot[Normal] coordinates {
        (100.0, 0.31913) % 100.0
        (250.0, 0.12708000000000003) % 250.0
        (500.0, 0.07305500000000001) % 500.0
        (1000.0, 0.056405000000000004) % 1000.0
        (1500.0, 0.037070000000000006) % 1500.0
        (2000.0, 0.032465) % 2000.0
        (2500.0, 0.03221) % 2500.0
        (3000.0, 0.027790000000000002) % 3000.0
        (4000.0, 0.0219) % 4000.0
        (5000.0, 0.02152) % 5000.0
        (7500.0, 0.020059999999999998) % 7500.0
        (10000.0, 0.016194999999999998) % 10000.0
        (15000.0, 0.013949999999999999) % 15000.0
        (20000.0, 0.013335) % 20000.0
        (30000.0, 0.011865) % 30000.0
        (40000.0, 0.010499999999999999) % 40000.0
    };
    \addlegendentry{Normal};
    \addplot[OffAdvTrain] coordinates {
        (100.0, 0.20479000000000003) % 100.0
        (250.0, 0.091465) % 250.0
        (500.0, 0.055545) % 500.0
        (1000.0, 0.034955) % 1000.0
        (1500.0, 0.027979999999999998) % 1500.0
        (2000.0, 0.02442) % 2000.0
        (2500.0, 0.02379) % 2500.0
        (3000.0, 0.020679999999999997) % 3000.0
        (4000.0, 0.018520000000000002) % 4000.0
        (5000.0, 0.017385) % 5000.0
        (7500.0, 0.01458) % 7500.0
        (10000.0, 0.013495000000000002) % 10000.0
        (15000.0, 0.012655) % 15000.0
        (20000.0, 0.011664999999999998) % 20000.0
        (30000.0, 0.010895000000000002) % 30000.0
        (40000.0, 0.010665) % 40000.0
    };
    \addlegendentry{OffAdvTrain};
    \addplot[STNAugm] coordinates {
        (100.0, 0.21042) % 100.0
        (250.0, 0.08274000000000001) % 250.0
        (500.0, 0.05907) % 500.0
        (1000.0, 0.036515) % 1000.0
        (1500.0, 0.02832) % 1500.0
        (2000.0, 0.02377) % 2000.0
        (2500.0, 0.020575) % 2500.0
        (3000.0, 0.021664999999999997) % 3000.0
        (4000.0, 0.016600000000000004) % 4000.0
        (5000.0, 0.016309999999999998) % 5000.0
        (7500.0, 0.013070000000000002) % 7500.0
        (10000.0, 0.012714999999999999) % 10000.0
        (15000.0, 0.011489999999999998) % 15000.0
        (20000.0, 0.01071) % 20000.0
        (30000.0, 0.010595) % 30000.0
        (40000.0, 0.010089999999999998) % 40000.0
    };
    \addlegendentry{STNAugm};
    \addplot[STNAdvTrain] coordinates {
        (100.0, 0.3138599999999999) % 100.0
        (250.0, 0.04035999999999999) % 250.0
        (500.0, 0.030455) % 500.0
        (1000.0, 0.018730000000000004) % 1000.0
        (1500.0, 0.01585) % 1500.0
        (2000.0, 0.01298) % 2000.0
        (2500.0, 0.01454) % 2500.0
        (3000.0, 0.01219) % 3000.0
        (4000.0, 0.010235) % 4000.0
        (5000.0, 0.008765) % 5000.0
        (7500.0, 0.00795) % 7500.0
        (10000.0, 0.007925) % 10000.0
        (15000.0, 0.00708) % 15000.0
        (20000.0, 0.006529999999999999) % 20000.0
        (30000.0, 0.006045) % 30000.0
        (40000.0, 0.006025) % 40000.0
    };
    \addlegendentry{STNAdvTrain};
    \addplot[OnClassAdvTrain] coordinates {
        (100.0, 0.259575) % 100.0
        (250.0, 0.08178) % 250.0
        (500.0, 0.06462500000000002) % 500.0
        (1000.0, 0.037425) % 1000.0
        (1500.0, 0.024954999999999998) % 1500.0
        (2000.0, 0.020545) % 2000.0
        (2500.0, 0.01704) % 2500.0
        (3000.0, 0.015785) % 3000.0
        (4000.0, 0.01592) % 4000.0
        (5000.0, 0.01345) % 5000.0
        (7500.0, 0.011315) % 7500.0
        (10000.0, 0.00961) % 10000.0
        (15000.0, 0.009145) % 15000.0
        (20000.0, 0.008265) % 20000.0
        (30000.0, 0.00789) % 30000.0
        (40000.0, 0.007345) % 40000.0
    };
    \addlegendentry{OnClassAdvTrain};
    \legend{};
    %\node[anchor=south west,colorbrewer1,opacity=0.5] at (axis cs:0, 0){NOT FINAL};
    \end{axis}
    \end{tikzpicture}
\end{document}